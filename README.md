# Whatsapp Link :iphone:

Simple node for connecting Node-Red to Whatsapp :iphone:

Currently in developing mode, Continous updated may encounter. :sweat_smile:

## To Connect with Whatsapp 
1. Deploy any whatsapp node along with whatsappLink node.
2. look in Console/ Bash/ terminal.
3. whatsappLink node will initilize, connect with whatsapp and generate a QR code it terminal.
4. Scan the QR code with your Whatsapp Mobile App (Go to settings > Linked device > Scan & Connect).
5. Done - Whatsapp Connected.

 *It will create a Whatsapp Web instance in your machine and store your session locally in Node-RED.*


## Nodes
1. **Whatsapp Admin** : Node used for basic status of whatsapp.
    

    | Inputs | Description           |
    |--------|--------------         |
    | test   | Checks the current status of whatsapp and output the same in `msg.payload`|
    | destroy| Close the client and destroy the whatsapp connection.|
    | restart | Restart the whatsapp connection. |
    | logout | Simply log you out and close the session. |
    ---
    
    
    | Output | Description |
    |--------| ------------|
    |`status` | provide status on `msg.payload` for all and each input mentioned in above table. |
    | Connecting..| When whatsapp attempting to connect.
    | QR Code (image) | when QR code is generated. *This method can also be used to get QR Code (image) generated by whatsapp.*
    | Connected | When whatapp is sucessfully connected.|
    | Group Joined or Removed | `msg.paylod` : Group Name. </br> `msg.type` : joined / Removed from group.</br> `msg.notification` : Complete notification. </br> `msg.chat` : Complete Group Details. 
    

2. **Whatsapp In** : Node to recive all messages send to connected number.
    -  Simply deploy the node and wait for green (connected) status.
    -  After succesfully connection, Node is able to recive all messages.

    | Output | Description |
    |--------|-------------|
    | `msg.paylod` | Recived message |
    | `msg.from`   | Sender Number |
    | `msg.message` | Complete message object. <br />*Some extra details for advace users* |


3. **Whatsapp Out** : As simple as mention on name, node will send `msg.payload` recived at input to the number mentioned in node.

     *Don't forget to mention international dialing code befor your number. Number must be in format like `+11 99999 99999` without any space.* 

4. **Group Message** : Whatsapp Group Node to send message in a Group.
    
    *Chat IDs are numbers given to each chats including group chats in whatsapp*

For every message recived from Whatsapp-IN-Node, Chat ID can be seen at `msg.chatID`, Copy the Chat ID of a group chat and paste it in Group-Message-Node to send group message in whatsapp.


## Issues & Updates
---
Issues and Suggestions are welcome [here.](https://github.com/raweee/node-red-contrib-whatsapp-link/issues)

* `Ver-0.1.21` : Group Message Node added.
* Working on QR Code to directlly avilable in run time on Whatsapp-Admin-Node.

## Future Nodes
Currently working on more Whatsapp Node and will be avilable soon -

1. Group Message Node (Working).
2. Chat Reply node.
3. Instruction (smart) Reply Node.

Complete detail for Nodes will also be updated as soon as possible. 

>Please don`t try to spam with your personal Number, Suspicious activities might be tracked by whatsapp. 

Thanks to bear with me 
